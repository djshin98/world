ui.transition=function(u,c){var n,m,e,t,f;return f={initialize:function(){c=f.get.settings.apply(u,moduleArguments),m=c.className,n=c.error,e=c.metadata,eventNamespace="."+c.namespace,moduleNamespace="module-"+c.namespace,t=f.get.animationEndEvent(),methodInvoked&&(methodInvoked=f.invoke(query)),!1===methodInvoked&&(f.verbose("Converted arguments into settings object",c),c.interval?f.delay(c.animate):f.animate(),f.instantiate())},refresh:function(){f.verbose("Refreshing display type on next animation"),delete f.displayType},forceRepaint:function(){f.verbose("Forcing element repaint");var i=u.parentElement,n=u.nextElementSibling;u.remove(),n.length?i.append(u):n.before(u)},repaint:function(){f.verbose("Repainting element");u.offsetWidth},delay:function(i){var n,e=f.get.animationDirection();e||(e=f.can.transition()?f.get.direction():"static"),i=void 0!==i?i:c.interval,n="auto"==c.reverse&&e==m.outward||1==c.reverse?(allModules.length-index)*c.interval:index*c.interval,f.debug("Delaying animation by",n),setTimeout(f.animate,n)},animate:function(i){if(c=i||c,!f.is.supported())return f.error(n.support),!1;if(f.debug("Preparing animation",c.animation),f.is.animating()){if(c.queue)return!c.allowRepeats&&f.has.direction()&&f.is.occurring()&&!0!==f.queuing?f.debug("Animation is currently occurring, preventing queueing same animation",c.animation):f.queue(c.animation),!1;if(!c.allowRepeats&&f.is.occurring())return f.debug("Animation is already occurring, will not execute repeated animation",c.animation),!1;f.debug("New animation started, completing previous early",c.animation),instance.complete()}f.can.animate()?f.set.animating(c.animation):f.error(n.noAnimation,c.animation,u)},reset:function(){f.debug("Resetting animation to beginning conditions"),f.remove.animationCallbacks(),f.restore.conditions(),f.remove.animating()},queue:function(i){f.debug("Queueing animation of",i),f.queuing=!0,u.addEventListener(t,function(i){f.queuing=!1,f.repaint(),f.animate.apply(this,c),i.target.removeEventListener(i.type,arguments.callee)})},complete:function(i){f.debug("Animation complete",c.animation),f.remove.completeCallback(),f.remove.failSafe(),f.is.looping()||(f.is.outward()?(f.verbose("Animation is outward, hiding element"),f.restore.conditions(),f.hide()):f.is.inward()?(f.verbose("Animation is outward, showing element"),f.restore.conditions(),f.show()):(f.verbose("Static animation completed"),f.restore.conditions(),c.onComplete.call(u)))},force:{visible:function(){var i=u.getAttribute("style"),n=f.get.userStyle(),e=f.get.displayType(),t=n+"display: "+e+" !important;",a=void 0===i||""===i;u.style.display!==e?(f.verbose("Overriding default display to show element",e),u.setAttribute("style",t)):a&&u.removeAttribute("style")},hidden:function(){var i=u.getAttribute("style"),n=void 0===i||""===i;"none"===u.style.display||f.is.hidden()?n&&u.removeAttribute("style"):(f.verbose("Overriding default display to hide element"),u.style.display="none")}},has:{direction:function(i){var e=!1;return"string"==typeof(i=i||c.animation)&&(i=i.split(" ")).forEach(function(i,n){i!==m.inward&&i!==m.outward||(e=!0)}),e},inlineDisplay:function(){return"object"==typeof(u.getAttribute("style")||"").match(/display.*?;/,"")}},set:{animating:function(i){var n;f.remove.completeCallback(),i=i||c.animation,n=f.get.animationClass(i),f.save.animation(n),f.force.visible(),f.remove.hidden(),f.remove.direction(),f.start.animation(n)},duration:function(i,n){((n="number"==typeof(n=n||c.duration)?n+"ms":n)||0===n)&&(f.verbose("Setting animation duration",n),u.style.animationDuration=n)},direction:function(i){(i=i||f.get.direction())==m.inward?f.set.inward():f.set.outward()},looping:function(){f.debug("Transition set to loop"),u.classList.add(m.looping)},hidden:function(){u.classList.add(m.transition),u.classList.add(m.hidden)},inward:function(){f.debug("Setting direction to inward"),u.classList.remove(m.outward),u.classList.add(m.inward)},outward:function(){f.debug("Setting direction to outward"),u.classList.remove(m.inward),u.classList.add(m.outward)},visible:function(){u.classList.add(m.transition),u.classList.add(m.visible)}},start:{animation:function(i){i=i||f.get.animationClass(),f.debug("Starting tween",i),u.classList.add(i),u.addEventListener(t,function(i){f.complete(i),i.target.removeEventListener(i.type,arguments.callee)}),c.useFailSafe&&f.add.failSafe(),f.set.duration(c.duration),c.onStart.call(u)}},save:{animation:function(i){f.cache||(f.cache={}),f.cache.animation=i},displayType:function(i){"none"!==i&&(u.dataset[e.displayType]=i)},transitionExists:function(i,n){ui.transition.exists[i]=n,f.verbose("Saving existence of transition",i,n)}},restore:{conditions:function(){var i=f.get.currentAnimation();i&&(u.classList.remove(i),f.verbose("Removing animation class",f.cache)),f.remove.duration()}},add:{failSafe:function(){var i=f.get.duration();f.timer=setTimeout(function(){u.triggerHandler(t)},i+c.failSafeDelay),f.verbose("Adding fail safe timer",f.timer)}},remove:{animating:function(){u.classList.remove(m.animating)},animationCallbacks:function(){f.remove.queueCallback(),f.remove.completeCallback()},queueCallback:function(){},completeCallback:function(){},display:function(){u.style.display=""},direction:function(){u.classList.remove(m.inward),u.classList.remove(m.outward)},duration:function(){u.style.animationDuration=""},failSafe:function(){f.verbose("Removing fail safe timer",f.timer),f.timer&&clearTimeout(f.timer)},hidden:function(){u.classList.remove(m.hidden)},visible:function(){u.classList.remove(m.visible)},looping:function(){f.debug("Transitions are no longer looping"),f.is.looping()&&(f.reset(),u.classList.remove(m.looping))},transition:function(){u.classList.remove(m.visible),u.classList.remove(m.hidden)}},get:{settings:function(i,n,e){return"object"==typeof i?ui.extend(!0,{},ui.transition.settings,i):"function"==typeof e?ui.extend({},ui.transition.settings,{animation:i,onComplete:e,duration:n}):"string"==typeof n||"number"==typeof n?ui.extend({},ui.transition.settings,{animation:i,duration:n}):"object"==typeof n?ui.extend({},ui.transition.settings,n,{animation:i}):"function"==typeof n?ui.extend({},ui.transition.settings,{animation:i,onComplete:n}):ui.extend({},ui.transition.settings,{animation:i})},animationClass:function(i){var n=i||c.animation,e=f.can.transition()&&!f.has.direction()?f.get.direction()+" ":"";return m.animating+" "+m.transition+" "+e+n},currentAnimation:function(){return!(!f.cache||void 0===f.cache.animation)&&f.cache.animation},currentDirection:function(){return f.is.inward()?m.inward:m.outward},direction:function(){return f.is.hidden()||!f.is.visible()?m.inward:m.outward},animationDirection:function(i){var e;return"string"==typeof(i=i||c.animation)&&(i=i.split(" ")).forEach(function(i,n){i===m.inward?e=m.inward:i===m.outward&&(e=m.outward)}),e||!1},duration:function(i){return!1===(i=i||c.duration)&&(i=u.style.animationDuration||0),"string"==typeof i?-1<i.indexOf("ms")?parseFloat(i):1e3*parseFloat(i):i},displayType:function(i){return i=void 0===i||i,c.displayType?c.displayType:(i&&void 0===u.dataset[e.displayType]&&f.can.transition(!0),u.dataset[e.displayType])},userStyle:function(i){return(i=i||u.getAttribute("style")||"").replace(/display.*?;/,"")},transitionExists:function(i){return ui.transition.exists[i]},animationStartEvent:function(){var i,n=document.createElement("div"),e={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(i in e)if(void 0!==n.style[i])return e[i];return!1},animationEndEvent:function(){var i,n=document.createElement("div"),e={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(i in e)if(void 0!==n.style[i])return e[i];return!1}},can:{transition:function(i){var n,e,t,a,o,s,r=c.animation,d=f.get.transitionExists(r),l=f.get.displayType(!1);if(void 0===d||i){if(f.verbose("Determining whether animation exists"),n=u.getAttribute("class"),e=u.tagName,(t=document.createElement(e)).classList.add(n),u.after(t),t.classList.add(r),t.classList.remove(m.inward),t.classList.remove(m.outward),t.classList.add(m.animating),t.classList.add(m.transition),a=t.style.animationName,t.classList.add(m.inward),o=t,style.animationName,l||(t.setAttribute("class",n),t.removeAttribute("style"),t.classList.remove(m.hidden),t.classList.remove(m.visible),l=t.style.display,f.verbose("Determining final display state",l),f.save.displayType(l)),t.remove(),a!=o)f.debug("Direction exists for animation",r),s=!0;else{if("none"==a||!a)return void f.debug("No animation defined in css",r);f.debug("Static animation found",r,l),s=!1}f.save.transitionExists(r,s)}return void 0!==d?d:s},animate:function(){return void 0!==f.can.transition()}},is:{animating:function(){return u.classList.contains(m.animating)},inward:function(){return u.classList.contains(m.inward)},outward:function(){return u.classList.contains(m.outward)},looping:function(){return u.classList.contains(m.looping)},occurring:function(i){return i="."+(i=i||c.animation).replace(" ","."),0<u.filter(i).length},visible:function(){return u.is(":visible")},hidden:function(){return"hidden"===u.css("visibility")},supported:function(){return!1!==t}},hide:function(){f.verbose("Hiding element"),f.is.animating()&&f.reset(),u.blur(),f.remove.display(),f.remove.visible(),f.set.hidden(),f.force.hidden(),c.onHide.call(u),c.onComplete.call(u)},show:function(i){f.verbose("Showing element",i),f.remove.hidden(),f.set.visible(),f.force.visible(),c.onShow.call(u),c.onComplete.call(u)},toggle:function(){f.is.visible()?f.hide():f.show()},stop:function(){f.debug("Stopping current animation"),u.triggerHandler(t)},stopAll:function(){f.debug("Stopping all animation"),f.remove.queueCallback(),u.triggerHandler(t)},clear:{queue:function(){f.debug("Clearing animation queue"),f.remove.queueCallback()}},enable:function(){f.verbose("Starting animation"),u.classList.remove(m.disabled)},disable:function(){f.debug("Stopping animation"),u.classList.add(m.disabled)}}},ui.transition.exists={},ui.transition.settings={name:"Transition",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"Element is no longer attached to DOM. Unable to animate.  Use silent setting to surpress this warning in production.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}};