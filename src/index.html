<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Olive 3D version 0.2</title>
    <link rel="icon" href="img/olive.png">
    <link rel="stylesheet" type="text/css" href="libs/semantic_ui/semantic.css">
    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <script src="libs/semantic_ui/semantic.js"></script>
    <link rel="stylesheet" href="css/main.css">

    <link rel="stylesheet" href="libs/jquery-treeview/jquery.treeview.css" />
    <script src="libs/jquery-treeview/jquery.treeview.js"></script>
    <script src="kmilsymbol.development.js"></script>
    <script>
        function dragEnter(e){
            event.preventDefault();
            return true;
        }
        function dragOver(e){
            e.preventDefault();
        }

        var billboards;
        function dragDrop(e) {
            if( !billboards ){
                billboards = map.viewer3d.scene.primitives.add(new Cesium.BillboardCollection());
                map.viewer3d.extend(Cesium.viewerDragDropMixin);
            }
            /*
            var canvas = document.createElement('canvas');
            canvas.width = 32;
            canvas.height = 32;
            var ctx = canvas.getContext('2d');
            ctx.beginPath();
            ctx.arc(16, 16, 15, 0, Cesium.Math.TWO_PI, true);
            ctx.closePath();
            ctx.fillStyle = `hsl(${Math.random()*360},55%,55%)`;
            ctx.fill();
            */
            var cartesian = map.viewer3d.camera.pickEllipsoid(
            new Cesium.Cartesian3(e.clientX-300, e.clientY), map.viewer3d.scene.globe.ellipsoid);

            billboards.add({
                id:"a",
                image: e.dataTransfer.getData("text"),
                position: cartesian,
                scaleByDistance: new Cesium.NearFarScalar(1.5e2, 1.5, 8.0e6, 0.0)
            });
        }
    </script>
</head>

<body>
    <!--
    <header>
        <img src="img/facility.png" />
        <div class="title">Web MapX3D 8.0 </div>
        <i class="window close outline"></i>
    </header>-->
    <section id="section">
        <div class="section-head item">
            <a class="ui logo icon image" href="/">
                <img src="/img/olive.png" style="width:40px;">
            </a>
            <a href="" target=”_blank”><b>MapX 3D 1.3.3</b></a>
        </div>
        <div class="section-body">
            <div class="ui vertical inverted sidebar labeled icon pointing menu visible">
            </div>
            <div class="ui vertical rectangle section-view"></div>
        </div>
        <!--
        -->
    </section>

    <article>
        <div id="door-handle"><i class="angle left icon"></i></div>
        <div id="map3d" ondragenter="return dragEnter(event)" ondrop="return dragDrop(event)" ondragover="return dragOver(event)" ></div>
        <div id="map2d"></div>
    </article>
    <footer></footer>
    <div id="popupZone">

        <div class="ui modal">
            <i class="close icon"></i>
            <div class="header">
                Profile Picture
            </div>
            <div class="image content">
                <div class="description">
                    <div class="ui header">We've auto-chosen a profile image for you.</div>
                    <p>We've grabbed the following image from the <a href="https://www.gravatar.com" target="_blank">gravatar</a> image associated with your registered e-mail address.</p>
                    <p>Is it okay to use this photo?</p>
                </div>
            </div>
            <div class="actions">
                <div class="ui black deny button">
                    Nope
                </div>
                <div class="ui positive right labeled icon button">
                    Yep, that's me
                    <i class="checkmark icon"></i>
                </div>
            </div>
        </div>

    </div>

    <script src="./libs/navigation/Cesium-Navigation.js"></script>
    <link rel="stylesheet" type="text/css" href="./libs/navigation/Cesium-Navigation.css" />
</body>

</html>