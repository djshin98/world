<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>합동참모본부</title>
    <link rel="icon" href="img/logo.jpg">

    <link rel="stylesheet" href="libs/jquery-ui/jquery-ui.css" />
    <link rel="stylesheet" href="libs/bootstrap/css/bootstrap.min.css" />
    <link rel="stylesheet" href="libs/font-awesome/css/font-awesome.min.css" />
    <link rel="stylesheet" href="libs/lobipanel/css/lobipanel.min.css" />

    <script src="libs/jquery/jquery.min.js"></script>
    <script src="libs/jquery-ui/jquery-ui.min.js"></script>
    <script src="libs/popper/umd/popper.min.js"></script>
    <script src="libs/bootstrap/js/bootstrap.min.js"></script>
    <script src="libs/lobipanel/js/lobipanel.min.js"></script>

    <link rel="stylesheet" type="text/css" href="libs/semantic_ui/semantic.css">
    <script src="libs/semantic_ui/semantic.js"></script>
    <link rel="stylesheet" href="css/main.css">

    <link rel="stylesheet" href="libs/jquery-treeview/jquery.treeview.css" />
    <script src="libs/jquery-treeview/jquery.treeview.js"></script>

    <script src="libs/milsymbol/kmilsymbol.development.js"></script>
    <script>
        var modelUrl = "";
        $(function() {

            window.app = new Application({
                header: {
                    height: 0
                },
                map3: {
                    id: "map3d",
                    mapServiceMode: "internet", //"internet offline"
                    offlineOption: {
                        proxy: "/GVS/proxy.jsp",
                        map: "http://192.168.1.101:8080/Map/World_TMS/", //""http://192.168.0.153:8180/Map/World_TMS/", //'Assets/Textures/World_TMS'
                        terrain: "http://192.168.1.101:38080/tilesets/srtm/"
                    },
                    offlineBaseLayers: [{
                        url: 'http://192.168.1.101:8080/Map/Hwasung_TMS/'
                    }, {
                        url: 'http://192.168.1.101:8080/Map/Seoul_TMS/'
                    }, {
                        url: 'http://192.168.1.101:8080/Map/Daejon_TMS/'
                    }],
                    websocket: {
                        reconnectable: true
                    },
                    dashboard: {
                        id: "dashboard",
                        center: "cross"
                    }
                },
                section: {
                    id: "section",
                    width: 300,
                    visible: true,
                    view: {
                        width: 225,
                        visible: true
                    },
                    handle: {
                        id: "door-handle",
                        height: 50
                    },
                    contents: [{
                            name: "Home",
                            icon: "home",
                            page: "section/home.html"
                        }, {
                            name: "즐겨찾기",
                            icon: "map marker alternate",
                            page: "section/favorite.html"
                        }, {
                            name: "위치검색",
                            icon: "search",
                            page: "section/search.html"
                        }, {
                            name: "3D Map",
                            icon: "map",
                            page: "section/map.html"
                        }, {
                            name: "3D 모델",
                            icon: "fighter jet",
                            page: "section/flight-area.html"
                        }, {
                            name: "군대부호",
                            icon: "object ungroup",
                            page: "section/milsymbol.html"
                        },
                        //{ name: "인공위성", icon: "space shuttle", page: "section/sat.html" },
                        //{ name: "시연용", icon: "play", page: "section/presentation.html" },
                        {
                            name: "Draw",
                            icon: "edit",
                            page: "section/draw.html"
                        }, {
                            name: "Entities",
                            icon: "sitemap",
                            page: "section/entities.html"
                        }, {
                            name: "도시요소",
                            icon: "eye",
                            page: "section/toshow.html"
                        }, {
                            name: "레이어",
                            icon: "clone outline",
                            page: "section/layer.html"
                        }
                        //{ name: "animation", icon: "file video", page: "section/animation.html" }
                    ]
                },
                aside: {
                    id: "aside",
                    width: 250,
                    visible: true,
                    handle: {
                        id: "aside-handle",
                        height: 15
                    }
                },
                success: function(map) {
                    //map.contour(true);
                    //viewer.scene.globe.enableLighting = true;
                    //updateMaterial(viewer);
                    /*
                    map.gridGARS(true,{
                            tile:true,
                            cells: 1,
                            glowWidth: 1,
                            glowColor: 1,
                            backgroundColor: new Cesium.Color( 1,1,1,1 ),
                            color: new Cesium.Color( 1,1,1,0 ) });
                    */
                    //
                    if (map.viewOption.infoBox == true) {
                        map.viewer3d.infoBox.frame.removeAttribute('sandbox');
                        var cssLink = document.createElement("link");
                        cssLink.href = Cesium.buildModuleUrl('css/infobox.css');
                        cssLink.rel = "stylesheet";
                        cssLink.type = "text/css";
                        map.viewer3d.infoBox.frame.contentDocument.head.appendChild(cssLink);
                    }
                    console.log("success end");
                }
            });

        });
    </script>
</head>

<body>
    <!--
    <header>
        <img src="img/facility.png" />
        <div class="title">Web MapX3D 8.0 </div>
        <i class="window close outline"></i>
    </header>-->
    <section id="section" style="display:none;">
        <div class="section-head item" style="text-align: center;">
            <a href="" target=”_blank”><img height="50" src="img/logo.png" alt="합동참모본부"></a>
        </div>
        <div class="section-body">
            <div class="ui vertical inverted sidebar labeled icon pointing menu visible">
            </div>
            <div class="ui vertical rectangle section-view"></div>
        </div>
        <!--
        -->
    </section>

    <article>
        <div id="door-handle" style="display:none;"><i class="angle left icon"></i></div>
        <div id="aside-handle" style="display:none;"><i class="angle right icon"></i></div>
        <div class="map-cesium" id="map3d" ondragenter="return app.dragger().enter(event)" ondrop="return app.dragger().drop(event)" ondragover="return app.dragger().over(event)"></div>
        <div id="map2d"></div>
        <svg id="dashboard" class="olive-dashboard">
        </svg>
    </article>
    <aside id="aside" style="display:none;"></aside>
    <footer></footer>

    <!--
    <script src="./libs/navigation/Cesium-Navigation.js"></script>
    <link rel="stylesheet" type="text/css" href="./libs/navigation/Cesium-Navigation.css" />
    -->

</body>
<script src="./libs/navigation/viewerCesiumNavigationMixin.js"></script>
<script src="./client/app.js"></script>

</html>